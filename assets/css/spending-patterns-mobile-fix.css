/**
 * Mobile fixes for spending-patterns.html
 * Ensures hamburger menu is clickable and sidebar works properly
 */

/* Ensure mobile header has proper z-index and is clickable */
@media (max-width: 768px) {
  .mobile-header {
    z-index: 10001 !important;
    position: sticky !important;
    top: 0 !important;
    background: white !important;
    pointer-events: auto !important;
  }
  
  .mobile-header-actions {
    z-index: 10002 !important;
    position: relative !important;
    pointer-events: auto !important;
  }

  .sidebar-toggle {
    z-index: 10003 !important;
    position: relative !important;
    pointer-events: auto !important;
    cursor: pointer !important;
  }
  
  /* Dark mode toggle button */
  #darkModeToggle,
  .theme-toggle,
  .mobile-header button {
    z-index: 10003 !important;
    position: relative !important;
    pointer-events: auto !important;
    cursor: pointer !important;
  }

  /* Ensure sidebar appears above content */
  .sidebar {
    z-index: 10000 !important;
  }

  .sidebar-overlay {
    z-index: 9999 !important;
  }

  /* Prevent page content from covering header */
  .page-header {
    position: relative !important;
    z-index: 1 !important;
    margin-top: 0 !important;
  }

  /* Prevent heatmap elements from covering header */
  .heatmap-container,
  .heatmap-day,
  .heatmap-tooltip {
    z-index: 1 !important;
  }

  .heatmap-day:hover {
    z-index: 2 !important;
  }

  /* Ensure filters don't cover header */
  .filters-section {
    z-index: 1 !important;
    position: relative;
  }

  /* Fix any overflow issues */
  .main-content {
    overflow-x: hidden;
    position: relative;
    z-index: 1;
  }
  
  /* Ensure KPI cards don't overlap header */
  .kpi-grid {
    position: relative !important;
    z-index: 1 !important;
  }
  
  .kpi-card {
    position: relative !important;
    z-index: 1 !important;
  }
}

/* KPI Grid - 3 cards per row on all devices */
.kpi-grid {
  display: grid !important;
  grid-template-columns: repeat(3, 1fr) !important;
  gap: 1rem !important;
}

@media (max-width: 768px) {
  .kpi-grid {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 0.75rem !important;
  }
  
  .kpi-card {
    padding: 0.75rem !important;
  }
  
  .kpi-icon {
    font-size: 1.5rem !important;
  }
  
  .kpi-label {
    font-size: 0.7rem !important;
  }
  
  .kpi-value {
    font-size: 1rem !important;
  }
}

@media (max-width: 480px) {
  .kpi-grid {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 0.5rem !important;
  }
  
  .kpi-card {
    padding: 0.5rem !important;
  }
  
  .kpi-icon {
    font-size: 1.25rem !important;
  }
  
  .kpi-label {
    font-size: 0.65rem !important;
  }
  
  .kpi-value {
    font-size: 0.9rem !important;
  }
}
